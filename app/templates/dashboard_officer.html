<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Officer Dashboard - Project SHUDH</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    body {
      animation: fadeIn 0.8s ease-out;
    }
    .btn-hover:hover {
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transform: translateY(-2px);
      transition: all 0.2s ease-in-out;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-200 p-6">
  <div class="max-w-6xl mx-auto bg-white rounded-xl shadow-lg p-6">

<!-- Header -->
<div class="flex justify-between items-center mb-6 border-b pb-4">
  <h1 class="text-3xl font-bold text-gray-800">üë®‚Äçüíº Officer Dashboard</h1>
  <div>
    <a href="{{ url_for('main.logout') }}" 
       class="btn-hover inline-block px-4 py-2 bg-gray-700 text-white rounded-lg">
      Logout
    </a>
  </div>
</div>

<!-- Upload Button -->
<div class="mb-4">
  <a href="{{ url_for('main.upload_spitting_case') }}"
     class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
     ‚ûï Upload Spitting Case
  </a>
</div>

<!-- Cases Table -->
<div class="overflow-x-auto">
  <table class="w-full border-collapse text-left">
    <thead>
      <tr class="bg-gray-100 text-gray-700 uppercase text-sm">
        <th class="p-3">ID</th>
        <th class="p-3">Offender</th>
        <th class="p-3">Image</th>
        <th class="p-3">Matched</th>
        <th class="p-3">Paid</th>
        <th class="p-3">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for p in cases %}
      <tr class="border-b hover:bg-blue-50 transition duration-300">
        <td class="p-3 font-medium">{{ p.id }}</td>
        <td class="p-3">{{ p.offender_name or 'Unknown' }}</td>
        <td class="p-3">
          {% if p.image_path %}
          <a href="{{ url_for('static', filename='uploads/' + p.image_path.split('/')[-1]) }}" 
             target="_blank" class="text-blue-600 hover:underline">View</a>
          {% else %}
          <span class="text-gray-400 italic">No Image</span>
          {% endif %}
        </td>
        <td class="p-3">
          {% if p.matched %}
          <span class="px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">Yes</span>
          {% else %}
          <span class="px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold">No</span>
          {% endif %}
        </td>
        <td class="p-3">
          {% if p.paid %}
          <span class="px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">Yes</span>
          {% else %}
          <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-semibold">No</span>
          {% endif %}
        </td>
        <td class="p-3">
          {% if not p.paid %}
            <a href="{{ url_for('main.send_reminder', case_id=p.id) }}" 
               class="btn-hover inline-block px-3 py-1 bg-yellow-500 text-white rounded-lg text-sm">
               üì© Send Reminder
            </a>
          {% else %}
            <span class="px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">
              ‚úÖ Paid
            </span>
          {% endif %}
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="6" class="p-4 text-center text-gray-500 italic">No penalty cases found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
</div>
</body>
</html>
